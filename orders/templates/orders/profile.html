{% extends "orders/base.html" %}

{% block content %}
<div class="profile-container">
    <h2 class="profile-header">Welcome, {{ user.username }}!</h2>
    <div class="profile-details">
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>Phone:</strong> {{ user.profile.phone_number }}</p>
    </div>

    {% if orders %}
        <h3 class="profile-subheader">Your Orders:</h3>
        <ul class="order-list">
            {% for order in orders %}
            <li class="order-item">
                <strong>Order #{{ order.id }}</strong> -
                <span class="order-status">{{ order.status }}</span> -
                <span class="order-date">{{ order.created_at|date:"Y-m-d H:i" }}</span>
                <ul>
                    {% for product in order.products.all %}
                    <li>{{ product.name }} (x{{ product.orderproduct_set.first.quantity }})</li>
                    {% endfor %}
                </ul>
            </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="empty-message">Here is empty for now. Letâ€™s decorate everything with flowers!</p>
    {% endif %}
</div>
{% endblock %}